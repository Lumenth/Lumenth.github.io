[{"content":"SYNtzulu：一种用于低功耗FPGA实时传感器数据分析的微型RISC-V控制 SNN 处理器 事件流程 将传入的传感器数据编码为多通道的脉冲箱，每个脉冲箱对应一个传感器数据样本，并实时进行SNN推理以获得可以直接解码为当前任务结果的输出脉冲序列。 架构 架构包含了（从左往右）：\nRISCV软核 控制输入/输出数据流、电源管理，配置架构超参数 可配置的编码插槽： 对传感器预处理获得脉冲序列 SNN引擎： 两个子处理器，主要计算核心 可配置的解码插槽 输出脉冲序列转化为可读数据 模块介绍 RISCV软核 RISCV软核是穿行RISC-V(SERV)核心，每32个周期执行一次操作，性能有限。\n能通过加载/存储操作对多个内存映射外设进行控制：\nSPI和UART数据传输 从SPI闪存驱动器加载突触权重 通过SPI接口输入样本流(21Mbps) 输出推断信息通过UART(115200bps) 电源管理 编码和解码插槽参数 中间件完成初始化后，采用定时器中断，以循环方式采集新的样本流 编码/解码插槽 编码\nSYNtzulu的SNN引擎 由可配置的编码和解码插槽封装，编码插槽可以定制化配置，以实现将输入数据转换为脉冲序列的多种方法。SNN引擎未使用的FPGA资源足以支持相当复杂的DSP密集型方法，包括对大量通道和采集速率进行数据预处理。\n编码插槽包括三个级联连接的模块：\n采用基于BRAM的输出缓存器存储通过SPI接口接受的原始输入样本（接收样本） 作用：在低速率数据传输时对编码时隙 的其余部分进行门控。若BRAM资源不足可移除 特定应用模块对输入缓冲区中存储的样本执行编码算法，依次生成脉冲信号（生成脉冲） 串并转换器将串行脉冲总线适配到 SNN 引擎的四通道脉冲总线上（串转并输出） 解码\n解码插槽解释SNN引擎生成的输出脉冲序列，提供可用的输出，如回归任务的结果或分类任务的结果。\n解码插槽 本质上比编码插槽 简单，在某些情况下可能根本不需要。\nSNN引擎 该引擎设计用于执行由 LIF 神经元密集层组成的前馈SNN的推理，LIF行为：\ni(t) =Σ ws（t − 1）；（上一级的脉冲按权重传入） v(t)= αv（t −1）+i(t)；（膜电位积累） s(t) = v(t) \u0026gt; θ;（根据膜电位比较是否产生脉冲） v(t)=v(t)·（1− s(t)）（若产生了脉冲则清零膜电位） 其中i (t)是突触电流，w是突触权重，s是脉冲，v (t)是膜电位，α是衰减因子，θ 是脉冲阈值。\n实现方式（两个并行的流程）：\n权重储存：到iCE40UP5K芯片的大部分存储能力由四个16位宽单端口RAM（SPRAM）存储器提供，专门将这些存储块用于权重存储。将四个SPRAM分为两组(Weight memory)，每一组供一个突出加法器使用(4个8位权重)\n突触加法器：计算i(t) =Σ ws（t − 1）；\nLIF integration：计算剩余式子，更新v(t),检测脉冲条件。\n层间链接：LIF integration产生的脉冲流量，以及编码和解码插槽的流量，存储至脉冲存储器(Spike mem)。脉冲存储器有两个块RAM(BRAM)缓冲器组成，SNN Engine交替使用两个缓冲区来读取和写入部分结果。\n轴突延迟(Axonal delay)：SYNtzulu中托管的轴突延迟单元允许根据每个神经元定制轴突延迟，范围从0到63个时间步。模块架构由两个BRAM组成：\n第一个BRAM存储每个神经元对应的时间延迟，以时间步表示，这些延迟在训练过程中离线确定。 第二个BRAM用作FIFO，即先进先出。存储一个包含63个二进制位的数组，对应过去63个时间步长的放电活动历史记录。 两个BRAM可同时访问。对于每个待分析的神经元，从延迟BRAM中加载的相应轴突延迟值用于构成FIFO BRAM的地址，以确定应作为输出传播的FIFO位置。\nStack堆栈下方流程后会提到\n处理流程 数据处理流程：样本通过SPI接口（TX1）输入，经编码模块（E1）转换为神经脉冲信号后，由SNN处理器进行逐层运算（从L1到L4）。处理器通过解码模块（D1）执行训练好的模型，最终通过UART接口（未显示）输出数据流。图中底部的放大图显示，子处理器（Sub-Ps）均匀分担各层运算任务，每个子处理器负责处理该层中半数神经元的运算。\n此外，为充分利用脉冲神经网络（SNN）范式优势而必需的事件稀疏性挖掘技术（event-sparsity exploitation），是通过一项关键的创新特性实现的：一个主动脉冲堆栈模块可动态调度突触权重向突触加法器的加载过程，仅筛选出活跃的突触组进行处理。该处理方式可以节省操作并延长待机时间。\n实现时间稀疏性\n将突触权重分组存储，并利用脉冲堆栈技术跳过所有未被上游脉冲触发的组的计算。定由4个权重组成的组别是本实施方案中的最优架构选择(原因看文章Event Sparsity Exploitation部分)。\n该堆栈单元逐神经元追踪哪些权重组需要从权重存储器中加载及其对应地址。对于不被上游事件触发的权重组（即对应4个未放电神经元的组），堆栈中不会记录，从而避免相应计算并利用稀疏性。\n图中的虚线展示了稀疏性的一个示例性测量值，即在与我们某个用例相关的数据集中，20秒记录期间非活跃突触的百分比。实线则展示了通过考虑脉冲堆栈 采用的四分组方式可实际利用的稀疏性。 代码复现： 神经网络训练 由于暂时不会python配不好环境这里我用google colab来训练\n进入GOOGLE Drive\n准备工作:\n下面是我自己修改过可运行的代码，通过网盘分享的文件：python 链接: https://pan.baidu.com/s/1F4RKqNcQUKKyh3ckCRihpg?pwd=5qb8 提取码: 5qb8\n将python文件夹的两个ipynb文件上传如下图 创建文件夹目录结构如下\nLibrary Ninapro Slayer E1 Dataset s1 前往下载所需的Lava-dl,选择下载为zip 解压后把文件夹传到Library中 前往下载需训练的数据集,将下载好的数据集传进s1文件夹 配置并运行代码 从google drive打开semg_syntzulu_Demo.ipyb，会发现已经跳转至Google Colab\n右上角可以链接T4GPU\n链接成功后是这样的：\n直接运行即可，运行过程会挂载Google Drive，在第一步需要按enter来选择python\n运行成功后会在Ninapro文件夹看见obj文件,然后可以直接运行syntzulu_hw_file_generator.ipynb，运行到Hardware Files Generation即可，因为再下面是测试用的，此时会发现网页已经下载了EMG文件\n配置Ubuntu 安装OSS CAD Suite\n1 2 3 4 5 6 7 8 9 mkdir -p ~/tools cd ~/tools # 下载OSS CAD Suite(https://github.com/YosysHQ/oss-cad-suite-build/releases/tag/2023-07-28) tar -xf oss-cad-suite-linux-x64-*.tar.gz # 安装 source oss_cad_suite/environment # 添加环境变量 echo \u0026#39;source ~/tools/oss-cad-suite/environment\u0026#39; \u0026gt;\u0026gt; ~/.bashrc source ~/.bashrc 安装RISCV编译工具链\n1 2 3 4 git clone https://github.com/riscv/riscv-gnu-toolchain --recursive cd riscv-gnu-toolchain/ ./configure --prefix=/opt/riscv --with-arch=rv32i --with-abi=ilp32 sudo make https不稳定，如果clone不下来建议配置ssh然后执行：\n1 git config --global url.\u0026#34;git@github.com:\u0026#34;.insteadOf \u0026#34;https://github.com/\u0026#34; 这样就是用ssh来下载了\nclone下SYNzulu文件，将之前下载的EMG文件拷入SYNzulu的根目录下即可开始Simulate\n","date":"2025-12-08T15:13:28+08:00","image":"https://Lumenth.github.io/p/synzulu%E5%A4%84%E7%90%86%E5%99%A8/fengmian_hu_6c131d1e75a7e5f5.png","permalink":"https://Lumenth.github.io/p/synzulu%E5%A4%84%E7%90%86%E5%99%A8/","title":"SYNzulu处理器"},{"content":"本文提供了一个可用于 Hugo 内容文件的基本 Markdown 语法示例，同时还展示了 Hugo 主题中基本 HTML 元素是否被 CSS 装饰。\n标题 以下 HTML \u0026lt;h1\u0026gt; 到 \u0026lt;h6\u0026gt; 元素表示六级标题。\u0026lt;h1\u0026gt; 是最高级别的标题，而 \u0026lt;h6\u0026gt; 是最低级别的标题。\nH1 H2 H3 H4 H5 H6 段落 这里可以放一段话\n这样换行两次是新开一段\nBlockquotes blockquote 元素表示引用自其他来源的内容，可以选择性地带有引用来源，这些引用必须放在 footer 或 cite 元素中，并且可以选择性地带有行内修改，如注释和缩写。\n引用段落（未注明来源） Tiam, ad mint andaepu dandae nostion secatur sequo quae. 注意你可以在引用块中使用Markdown语法 。\n带出处的引用 Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\n— Rob Pike1\n表格 表格不是核心 Markdown 规范的一部分, 但是 Hugo 支持使用。\nName Age Bob 27 Alice 23 Inline Markdown within tables Italics Bold Code italics bold code A B C D E F Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus ultricies, sapien non euismod aliquam, dui ligula tincidunt odio, at accumsan nulla sapien eget ex. Proin eleifend dictum ipsum, non euismod ipsum pulvinar et. Vivamus sollicitudin, quam in pulvinar aliquam, metus elit pretium purus Proin sit amet velit nec enim imperdiet vehicula. Ut bibendum vestibulum quam, eu egestas turpis gravida nec Sed scelerisque nec turpis vel viverra. Vivamus vitae pretium sapien Code Blocks（代码块） 下面html我还不会写暂时不修正\nCode block with backticks（带反引号的代码块） 1 2 3 4 5 6 7 8 9 10 \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block indented with four spaces（代码块缩进四个空格） \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with Hugo\u0026rsquo;s internal highlight shortcode 1 2 3 4 5 6 7 8 9 10 \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Diff code block 1 2 3 4 5 [dependencies.bevy] git = \u0026#34;https://github.com/bevyengine/bevy\u0026#34; rev = \u0026#34;11f52b8c72fc3a568e8bb4a4cd1f3eb025ac2e13\u0026#34; - features = [\u0026#34;dynamic\u0026#34;] + features = [\u0026#34;jpeg\u0026#34;, \u0026#34;dynamic\u0026#34;] List Types Ordered List First item Second item Third item Unordered List List item Another item And another item Nested list Fruit Apple Orange Banana Dairy Milk Cheese Other Elements — abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL + ALT + Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\nHyperlinked image The above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2025-12-06T00:00:00Z","image":"https://Lumenth.github.io/p/markdown%E8%AF%AD%E6%B3%95%E6%8C%87%E5%8D%97/pawel-czerwinski-8uZPynIu-rQ-unsplash_hu_e95a4276bf860a84.jpg","permalink":"https://Lumenth.github.io/p/markdown%E8%AF%AD%E6%B3%95%E6%8C%87%E5%8D%97/","title":"Markdown语法指南"},{"content":"Hello world 正文 由于硬盘崩溃导致的数据文本丢失已经不想在经历了，因此我决定开一个博客来记录我的学习经历，但是服务器＋域名过于昂贵，购买服务器也不是我的刚需，所以github对我来说是一个很好的选择。\n以后我会在这里不定期更新学习经验\n图片 博客搭建方法来自Letere-莱特雷\n主题来自Stack\n","date":"2025-12-06T00:00:00Z","image":"https://Lumenth.github.io/p/my_firstblog/helena-hertz-wWZzXlDpMog-unsplash_hu_2307260c751d0e0b.jpg","permalink":"https://Lumenth.github.io/p/my_firstblog/","title":"我的第一个博客"}]